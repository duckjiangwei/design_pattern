# 组合模式

## 定义
组合模式是一种结构型设计模式， 你可以使用它将对象组合成树状结构， 并且能像使用独立对象一样使用它们。

## 应用场景
1. 如果你需要实现树状对象结构， 可以使用组合模式。  
2. 如果你希望客户端代码以相同方式处理简单和复杂元素， 可以使用该模式。  

## 实现方式
1. 确保应用的核心模型能够以树状结构表示。尝试将其分解为简单元素和容器。  
2. 声明组件接口及其一系列方法  
3. 创建一个叶节点类表示简单元素  
4. 创建一个容器类表示复杂元素。 在该类中， 创建一个数组成员变量来存储其子元素的对象。   
5. 在容器中定义添加和删除子元素的方法(非必须)  


## 核心词汇
1. 递归  
2. 让简单元素做事

## 优缺点
优点:  
1. 你可以利用多态和递归机制更方便地使用复杂树结构。  
2. 开闭原则。 无需更改现有代码， 你就可以在应用中添加新元素， 使其成为对象树的一部分。

缺点:
1. 复杂
2. 功能差异较大的类， 提供公共接口或许会有困难。 在特定情况下， 你需要过度一般化组件接口， 使其变得令人难以理解。

## 类比
> 和装饰器模式相似

相同:  
两者都依赖递归组合来组织无限数量的对象。  
差异:
1. 装饰器模式不需要树状结构,不需要突出一个上下级的关系.它是被装饰者与装饰者之间的一对多关系

